% LaTeX preamble for dissertation PDF build (used by Pandoc)

\usepackage{newunicodechar}
\newunicodechar{â†’}{\ensuremath{\rightarrow}}

\usepackage{polyglossia}
\setmainlanguage{slovak}

% Better paragraph shaping (limited support in XeLaTeX).
\usepackage{microtype}

% Prevent single-letter prepositions/conjunctions at line ends.
\usepackage{xevlna}

\usepackage{xcolor}
\usepackage[most]{tcolorbox}
\tcbset{before skip=8pt, after skip=8pt}
% Allow environment-specific tweaks in aside.
\usepackage{etoolbox}
% Enable captions outside floats (used inside aside).
\usepackage{caption}
% Prevent floats from crossing aside boxes.
\usepackage{placeins}
% Print-oriented aside box:
% - subtle background tint
% - single left rule instead of a full frame
\newtcolorbox{aside}{%
  enhanced,
  breakable,
  sharp corners,
  colback=black!2,
  colframe=black!40,
  boxrule=0pt,
  borderline west={0.6pt}{0pt}{black!45},
  left=3mm,right=2mm,
  top=1.5mm,bottom=1.5mm,
  before skip=10pt,after skip=10pt,
  before upper=\small
}

% Inside aside boxes, turn figure floats into inline figures to avoid
% LaTeX float errors while keeping captions.
\AtBeginEnvironment{aside}{%
  \FloatBarrier
  \renewenvironment{figure}[1][]{%
    \begin{center}%
    \captionsetup{type=figure}%
  }{%
    \end{center}%
  }%
}
\AfterEndEnvironment{aside}{\FloatBarrier}

\usepackage{tikz}
\usetikzlibrary{positioning}

\usepackage{graphicx}
\setkeys{Gin}{width=\linewidth, height=0.7\textheight, keepaspectratio}

